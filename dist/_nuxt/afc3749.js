(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{405:function(t,o,r){"use strict";r.r(o);r(67);var n={name:"Login",layout:"empty",data:function(){return{validPassword:!1,minLogin:3,minPassword:3,login:"",password:"",lsLogin:"",lsPassword:""}},mounted:function(){!!localStorage.getItem("isFirst")?(localStorage.setItem("isFirst",!1),this.login=localStorage.getItem("login")||"",this.lsLogin=localStorage.getItem("login")||"",this.lsPassword=localStorage.getItem("password")||"",this.password=""):this.$router.push("/register")},methods:{submitHandler:function(){if(this.authState())return this.$store.dispatch("login"),void this.$router.push("/profile");this.validPassword=!0},authState:function(){return this.login===this.lsLogin&&this.password===this.lsPassword}},computed:{loginError:function(){return this.login.length<this.minLogin?"Логин должен содержать минимум ".concat(this.minLogin," символов. Сейчас он ").concat(this.login.length):this.login!==this.lsLogin?"Не верный логин":""},passwordError:function(){return this.password.length<this.minPassword?"Пароль должен содержать минимум ".concat(this.minPassword," символов. Сейчас он ").concat(this.password.length):this.password!==this.lsPassword?"Не верный пароль":""},validLogin:function(){return this.login===this.lsLogin}},watch:{password:function(){this.validPassword=!1}}},e=r(12),component=Object(e.a)(n,(function(){var t=this,o=t.$createElement,r=t._self._c||o;return r("section",{staticClass:"login-section container"},[r("a",{staticClass:"login-logo-link",attrs:{href:"/"}},[r("svg",{staticClass:"icon icon-logo"},[r("use",{attrs:{href:"#icon-logo"}})])]),t._v(" "),r("form",{staticClass:"login-form",on:{submit:function(o){return o.preventDefault(),t.submitHandler(o)}}},[r("div",{staticClass:"form-item",class:{"validate-error":!t.validLogin}},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.login,expression:"login",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"Логин"},domProps:{value:t.login},on:{input:function(o){o.target.composing||(t.login=o.target.value.trim())},blur:function(o){return t.$forceUpdate()}}}),t._v(" "),r("div",{staticClass:"form-item-error"},[t._v(" "+t._s(t.loginError)+" ")])]),t._v(" "),r("div",{staticClass:"form-item",class:{"validate-error":t.validPassword}},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",placeholder:"Пароль"},domProps:{value:t.password},on:{input:function(o){o.target.composing||(t.password=o.target.value)}}}),t._v(" "),r("div",{staticClass:"form-item-error"},[t._v(" "+t._s(t.passwordError))])]),t._v(" "),r("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Войти")])])])}),[],!1,null,null,null);o.default=component.exports}}]);